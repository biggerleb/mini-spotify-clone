(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){e.exports=a(170)},112:function(e,t,a){},113:function(e,t,a){},145:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(51),s=a.n(i),l=(a(112),a(5)),o=a(6),c=a(8),u=a(7),m=a(9),p=(a(113),a(104)),h=a.n(p),d=a(10),g={display:"flex",alignItems:"center"},f={fontSize:"1.3rem",marginRight:"10px"},y={borderRadius:"10px",height:"34px",":hover":{backgroundColor:"#efefef"},":focus":{backgroundColor:"#efefef"}},b=Object(d.a)(function(e){return n.a.createElement("div",{style:g},n.a.createElement("i",{className:"fas fa-search text-secondary",style:f}),n.a.createElement("form",{onSubmit:function(t){return e.onSubmitHandler(t)}},n.a.createElement("input",{type:"text",className:"form-control",style:y,placeholder:"Song/Album/Artist",maxLength:"25",onChange:function(t){return e.onChangeHandler(t)},value:e.inputVal})))}),E={primary:"#76b39d",primaryLink:"#58917c",secondary:"#05004e",light:"#f9f8eb",orange:"#fd5f00"},k=a(23),v={SET_ARRAY:"SET_ARRAY",CHANGE_CURRENT:"CHANGE_CURRENT",CHANGE_CURRENT_TNUMBER:"CHANGE_CURRENT_TNUMBER",TOGGLE_PAUSED:"TOGGLE_PAUSED",SET_PAUSED:"SET_PAUSED",SET_UPCOMING_ARRAY:"SET_UPCOMING_ARRAY",UPCOMING_TO_CURRENT:"UPCOMING_TO_CURRENT"},x=a(171),w={color:E.primaryLink},R={color:E.light},A=function(e){var t=[],a=w;return e.player&&(a=R),e.artistsArr.map(function(e,r){return r>0&&t.push(", "),t.push(n.a.createElement(x.a,{style:a,key:r,to:"/artist/"+e[1]},e[0])),null}),n.a.createElement(n.a.Fragment,null,t)},T=a(172),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).playerAudio=new Audio,a.stopPlayHandler=function(){return console.log(a.props.location.pathname),"/"===a.props.location.pathname&&null===a.props.current?(console.log("should stop"),null):a.props.tracksR.length<1?null:void(null===a.props.current?a.props.changeCurrentR(a.props.tracksR[0][1],1):(a.props.paused,a.props.togglePaused()))},a.changeCurrent=function(){null===a.props.current?a.playerAudio.src="":(a.playerAudio.src=a.props.current,a.playerAudio.play())},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.playerAudio.volume=.1,this.playerAudio.addEventListener("ended",function(){e.props.changeCurrentR(e.props.tracksR[e.props.trackNumber][1],e.props.trackNumber+1)})}},{key:"componentDidUpdate",value:function(e){null===this.props.current&&this.props.upcomingTracksR.length>0&&this.props.upcomingToCurrent(),e.current!==this.props.current&&this.changeCurrent(),(e.paused!==this.props.paused||this.props.current)&&(this.props.paused?this.playerAudio.pause():this.playerAudio.play())}},{key:"fromNumToUrl",value:function(e){return this.props.tracksR[e-1][1]}},{key:"playForward",value:function(){this.props.setPaused(!1),this.props.trackNumber===this.props.tracksR.length?this.props.changeCurrentR(null,null):this.props.changeCurrentR(this.fromNumToUrl(this.props.trackNumber+1),this.props.trackNumber+1)}},{key:"playBackwards",value:function(){this.props.setPaused(!1),1===this.props.trackNumber||null===this.props.trackNumber?this.props.changeCurrentR(null,null):this.props.changeCurrentR(this.fromNumToUrl(this.props.trackNumber-1),this.props.trackNumber-1)}},{key:"render",value:function(){var e="fas fa-play-circle";!this.props.paused&&this.props.current&&(e="fas fa-pause-circle");var t=null,a=null;if(this.props.current){var r=this.props.tracksR[this.props.trackNumber-1];t=n.a.createElement(x.a,{style:P,to:"/album/"+r[3][1]},r[4]),a=n.a.createElement(A,{player:!0,artistsArr:this.props.tracksR[this.props.trackNumber-1][2]})}return n.a.createElement("div",{style:C},n.a.createElement("div",{style:L},t),n.a.createElement("div",{style:S},n.a.createElement("i",{className:"fas fa-step-backward",style:j,key:"backward",onClick:this.playBackwards.bind(this)}),n.a.createElement("i",{className:e,style:N,onClick:this.stopPlayHandler}),n.a.createElement("i",{className:"fas fa-step-forward",style:j,key:"forward",onClick:this.playForward.bind(this)})),n.a.createElement("div",{style:U},a))}}]),t}(r.Component),C={position:"fixed",bottom:"0",left:"0",width:"100%",height:"125px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:E.primary,color:E.secondary},S={display:"flex",justifyContent:"center",alignItems:"center"},N={fontSize:"3.5rem",marginLeft:"30px",marginRight:"30px",":hover":{transform:"scale(1.05)",cursor:"pointer"}},j={fontSize:"1.5rem",":hover":{transform:"scale(1.1)",cursor:"pointer"}},L={position:"absolute",top:"6px",fontSize:"14px",color:E.light,borderLeft:"2px solid "+E.light,borderRight:"2px solid "+E.light,padding:"0 0.5rem"},U={position:"absolute",bottom:"6px",fontSize:"14px",color:E.light,padding:"0 0.5rem",borderLeft:"2px solid "+E.light,borderRight:"2px solid "+E.light},P={color:E.light},_=Object(T.a)(Object(k.b)(function(e){return{tracksR:e.tracksR,upcomingTracksR:e.upcomingTracksR,current:e.current,paused:e.paused,trackNumber:e.currentTNumber}},function(e){return{changeCurrentR:function(t,a){return e({type:v.CHANGE_CURRENT,payload:{url:t,trackNumber:a}})},togglePaused:function(){return e({type:v.TOGGLE_PAUSED})},setPaused:function(t){return e({type:v.SET_PAUSED,payload:t})},upcomingToCurrent:function(){return e({type:v.UPCOMING_TO_CURRENT})}}})(Object(d.a)(O))),D=a(175),I=a(173),B=a(103),G=a.n(B),M={paddingTop:"75px",backgroundColor:E.light,minHeight:"100%",overflow:"auto",paddingBottom:"150px"},H=function(e){return n.a.createElement(G.a,{style:M},e.children)},F=a(11),z=a.n(F),V=a(4),Q=a.n(V),Y=a(43),W=a.n(Y),X=function(e,t){return t="Bearer "+t,new Promise(function(a,r){W()({method:"get",url:e,headers:{Authorization:t}}).then(function(e){a(e)}).catch(function(e){r(e),console.log(e)})})},K=function(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(a<10?"0":"")+a},q=a(31),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={hovered:!1},a.hoveredHandler=function(e){a.setState({hovered:e})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.previewURL===this.props.currentURL&&!this.props.paused&&null!==this.props.previewURL,a=this.props.previewURL===this.props.currentURL&&this.props.paused&&null!==this.props.previewURL,r={width:"26px",paddingRight:"8px",borderRight:"1px solid "+E.secondary,marginRight:"12px"},i=this.props.duration,s=this.props.trackNumber;return this.state.hovered&&this.props.previewURL&&(s=n.a.createElement("i",{className:"fas fa-play",style:ee}),i=n.a.createElement(n.a.Fragment,null,n.a.createElement("p",{style:{display:"inline",margin:"0",color:E.orange}},"preview"),n.a.createElement("p",{style:{display:"inline",marginBottom:"0",marginLeft:"10px"}},"0:30"))),t&&(s=n.a.createElement("i",{className:"fas fa-play",style:te})),a&&(s=n.a.createElement("i",{className:"fas fa-pause",style:te})),null===this.props.previewURL&&this.state.hovered?n.a.createElement("div",{style:ae,onMouseEnter:function(){return e.hoveredHandler(!0)},onMouseLeave:function(){return e.hoveredHandler(!1)}},n.a.createElement("div",{style:r},n.a.createElement("i",{className:"fas fa-stop"})),n.a.createElement("div",null,this.props.name),n.a.createElement("div",{style:$,onClick:function(e){return e.stopPropagation()}},n.a.createElement(A,{artistsArr:this.props.artists})),n.a.createElement("div",{style:{color:E.orange,marginLeft:"auto",marginRight:"10px",textAlign:"center"}},"NO PREVIEW URL")):n.a.createElement("div",{style:ae,onMouseEnter:function(){return e.hoveredHandler(!0,e.props.trackNumber)},onMouseLeave:function(){return e.hoveredHandler(!1,e.props.trackNumber)},onClick:function(){return function(e){if(e.previewURL===e.currentURL)e.togglePaused();else{e.upcomingTracksR.length>0&&e.upcomingToCurrent();var t=(e.upcomingTracksR.length>0?e.upcomingTracksR:e.tracksR).findIndex(function(t){return t[1]===e.previewURL});t+=1,e.changeCurrentR(e.previewURL,t),e.setPaused(!1)}}(e.props)}},n.a.createElement("div",{style:r},s),n.a.createElement("div",null,this.props.name),n.a.createElement("div",{style:$,onClick:function(e){return e.stopPropagation()}},n.a.createElement(A,{artistsArr:this.props.artists})),n.a.createElement("div",{style:Z},i))}}]),t}(r.Component);var $={fontSize:"0.8rem",marginLeft:"12px"},Z={paddingRight:"12px",marginLeft:"auto"},ee={color:E.secondray},te={color:E.orange},ae={borderBottom:"1px solid "+E.secondary,display:"flex",justifyContent:"flex-start",alignItems:"center",minHeight:"38px",paddingLeft:"8px",fontSize:"1.05rem",":hover":{cursor:"pointer"}},re=Object(k.b)(function(e){return{currentTNumber:e.currentTNumber,paused:e.paused,currentURL:e.current,upcomingTracksR:e.upcomingTracksR,tracksR:e.tracksR}},function(e){return{changeCurrentR:function(t,a){return e({type:v.CHANGE_CURRENT,payload:{url:t,trackNumber:a}})},togglePaused:function(){return e({type:v.TOGGLE_PAUSED})},setPaused:function(t){return e({type:v.SET_PAUSED,payload:t})},upcomingToCurrent:function(){return e({type:v.UPCOMING_TO_CURRENT})}}})(Object(d.a)(J)),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={transformedTracks:a.props.tracksArr.map(function(e,t){return Object(q.a)({},e,{hovered:!1,trackNumber:t+1})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.tracksArrToRedux()}},{key:"tracksArrToRedux",value:function(){var e=this.props.tracksArr.map(function(e,t){return[t+1,e.previewURL,e.artists,[e.albumName,e.albumID],e.name]});(e=e.filter(function(e){return e[1]})).length>0&&e.sort(function(e,t){return e[0]-t[0]}),0===this.props.tracksR.length?this.props.dispatchSetArray(e):this.props.dispatchSetUpcomingArray(e)}},{key:"componentDidUpdate",value:function(e,t){if(e.tracksArr!==this.props.tracksArr){var a=this.props.tracksArr.map(function(e,t){return Object(q.a)({},e,{trackNumber:t+1})});this.setState({transformedTracks:a})}t.transformedTracks!==this.state.transformedTracks&&this.tracksArrToRedux()}},{key:"render",value:function(){return n.a.createElement("div",{style:ie,className:"noselect"},this.state.transformedTracks.map(function(e,t){return n.a.createElement(re,{artists:e.artists,duration:e.duration,name:e.name,previewURL:e.previewURL,trackNumber:t+1,key:t+1})}))}}]),t}(r.Component),ie={width:"100%",borderTop:"1px solid "+E.secondary},se=Object(k.b)(function(e){return{tracksR:e.tracksR,upcomingTracksR:e.upcomingTracksR}},function(e){return{dispatchSetArray:function(t){return e({type:v.SET_ARRAY,payload:t})},dispatchSetUpcomingArray:function(t){return e({type:v.SET_UPCOMING_ARRAY,payload:t})}}})(ne),le=(a(145),{margin:"30% auto"}),oe={backgroundColor:E.secondary},ce=function(e){return n.a.createElement("div",{style:le,className:"spinner"},n.a.createElement("div",{style:oe,className:"bounce1"}),n.a.createElement("div",{style:oe,className:"bounce2"}),n.a.createElement("div",{style:oe,className:"bounce3"}))},ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={title:null,artists:null,img:null,year:null,tracks:[],showSpinner:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.token)return null;this.getAlbumData()}},{key:"componentDidUpdate",value:function(e){return e.match.params.id!==this.props.match.params.id?(this.getAlbumData(),this.setState({showSpinner:!0}),null):this.state.title?null:void this.getAlbumData()}},{key:"getAlbumData",value:function(){var e=this,t="https://api.spotify.com/v1/albums/"+this.props.match.params.id,a=this.props.token;X(t,a).then(function(t){t=t.data,e.setState({showSpinner:!1,title:t.name,artists:t.artists.map(function(e){return[e.name,e.id]}),img:t.images[1].url,year:t.release_date.slice(0,4),tracks:t.tracks.items.map(function(t){return{name:t.name,duration:K(t.duration_ms),artists:t.artists.map(function(e){return[e.name,e.id]}),previewURL:t.preview_url,trackNumber:t.track_number,albumName:e.state.title,albumID:e.props.match.params.id}})})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e;return e=this.state.showSpinner?n.a.createElement(ce,null):n.a.createElement(n.a.Fragment,null,this.state.title?n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{style:fe},n.a.createElement(Q.a,{xs:12,md:6},n.a.createElement("div",{style:pe},n.a.createElement("img",{src:this.state.img,alt:"album cover",style:me}))),n.a.createElement(Q.a,{xs:12,md:6},n.a.createElement("div",{style:he},n.a.createElement("h3",null,this.state.title),n.a.createElement("h5",{style:ge},n.a.createElement(A,{artistsArr:this.state.artists})),n.a.createElement("p",{style:de},this.state.year)))),n.a.createElement(z.a,{style:ye},n.a.createElement(se,{tracksArr:this.state.tracks,albumTitle:this.state.title,albumID:this.props.match.params.id}))):null),n.a.createElement(H,null,e)}}]),t}(r.Component),me={height:"200px",width:"200px",marginLeft:"30px",boxShadow:" 0px 2px 5px 0px rgba(0,0,0,0.75)","@media (max-width: 768px)":{marginLeft:"0"}},pe={height:"100%",width:"100%",display:"flex","@media (max-width: 768px)":{alignItems:"center",justifyContent:"center"}},he={width:"100%",height:"100%",display:"flex",paddingRight:"1.5rem",paddingTop:"0.7rem",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-end","@media (max-width: 768px)":{alignItems:"center",justifyContent:"center",paddingRight:"0"}},de={marginBottom:"0",marginTop:"0.4rem"},ge={marginTop:"0.5rem"},fe={paddingBottom:"12px",marginLeft:"6px",marginRight:"6px",justifyContent:"space-between"},ye={paddingTop:"1.5rem",marginLeft:"16px",marginRight:"16px"},be=Object(d.a)(ue),Ee=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={title:null,img:null,tracks:[],showSpinner:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.token)return null;this.getAlbumData()}},{key:"componentDidUpdate",value:function(){if(this.state.title)return null;this.getAlbumData()}},{key:"getAlbumData",value:function(){var e=this,t="https://api.spotify.com/v1/playlists/"+this.props.match.params.id,a=this.props.token;X(t,a).then(function(t){t=t.data,e.setState({showSpinner:!1,title:t.name,img:t.images[0].url,tracks:t.tracks.items.map(function(e){return{name:e.track.name,duration:K(e.track.duration_ms),artists:e.track.artists.map(function(e){return[e.name,e.id]}),previewURL:e.track.preview_url,trackNumber:e.track.track_number,albumName:e.track.album.name,albumID:e.track.album.id}})})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e;return e=this.state.showSpinner?n.a.createElement(ce,null):n.a.createElement(n.a.Fragment,null,this.state.title?n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{style:Ae},n.a.createElement(Q.a,{xs:12,md:6},n.a.createElement("div",{style:ve},n.a.createElement("img",{src:this.state.img,alt:"album cover",style:ke}))),n.a.createElement(Q.a,{xs:12,md:6},n.a.createElement("div",{style:Re},n.a.createElement("h2",{style:xe},this.state.title),n.a.createElement("p",{style:we},"PLAYLIST")))),n.a.createElement(z.a,{style:Te},n.a.createElement(se,{tracksArr:this.state.tracks,albumTitle:this.state.title,albumID:this.props.match.params.id}))):null),n.a.createElement(H,null,e)}}]),t}(r.Component),ke={height:"200px",width:"200px",marginLeft:"30px",boxShadow:" 0px 2px 5px 0px rgba(0,0,0,0.75)","@media (max-width: 768px)":{marginLeft:"0"}},ve={height:"100%",width:"100%",display:"flex","@media (max-width: 768px)":{alignItems:"center",justifyContent:"center"}},xe={textAlign:"right"},we={marginBottom:"0"},Re={width:"100%",height:"100%",display:"flex",paddingRight:"1.5rem",paddingTop:"0.7rem",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-end","@media (max-width: 768px)":{alignItems:"center",justifyContent:"center",paddingRight:"0"}},Ae={paddingBottom:"12px",marginLeft:"6px",marginRight:"6px"},Te={paddingTop:"1.5rem",marginLeft:"16px",marginRight:"16px"},Oe=Object(d.a)(Ee),Ce=a(44),Se=a.n(Ce),Ne=a(24),je=a.n(Ne),Le={display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"column",marginBottom:"1.2rem"},Ue={width:"150px",height:"150px",marginTop:"0.8rem",boxShadow:"0px 1px 4px 0px rgba(0,0,0,0.61)","@media (max-width: 576px)":{width:"120px",height:"120px"}},Pe={textAlign:"center",color:E.primaryLink,marginTop:"0.3rem"},_e={display:"flex",justifyContent:"center",alignItems:"center",height:"150px",width:"150px",fontSize:"96px"},De=Object(d.a)(function(e){var t,a,r="/"+e.type+"/";return t=null===e.imageURL?n.a.createElement("div",{style:_e},n.a.createElement("i",{className:"fas fa-camera-retro"})):n.a.createElement(x.a,{to:r+e.albumArtist.id},n.a.createElement("img",{src:e.imageURL,alt:"album/playlist cover",style:Ue})),a=n.a.createElement(x.a,{style:Pe,to:r+e.albumArtist.id},e.albumArtist.name),n.a.createElement(Q.a,{xs:6,md:3,style:Le},t,a)}),Ie={alignItems:"center",padding:"0 0.7rem",borderBottom:"1px solid "+E.secondary,paddingBottom:"0px",marginRight:"0.7rem",marginLeft:"0.7rem",marginTop:"1.5rem"},Be={marginBottom:"50px",margin:"1.5rem 0.7rem",padding:"0 0.7rem"},Ge={marginRight:"auto",paddingLeft:"1rem",color:E.secondary},Me=function(e){var t=n.a.createElement(n.a.Fragment,null,n.a.createElement(Q.a,null,n.a.createElement("h5",{style:Ge},e.caption)),n.a.createElement(Q.a,null),n.a.createElement(Q.a,null));0===e.array.length&&(t=null);var a=[],r=new Set;return e.array.forEach(function(e){r.has(e.albumArtist.name.toLowerCase())||(r.add(e.albumArtist.name.toLowerCase()),a.push(e))}),n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{style:e.array.length>0?Ie:null},t),n.a.createElement(z.a,{style:Be},a.map(function(t){return n.a.createElement(De,Object.assign({type:e.type},t,{key:t.albumArtist.name}))})))},He=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={artistName:null,imageURL:null,showOverview:!0,popularTracks:[],albums:[],similarArtist:[],singles:[],showSpinner:!0},a.handleButtonOverview=function(){a.setState({showOverview:!0})},a.handleButtonArtists=function(){a.setState({showOverview:!1})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.token&&this.getArtistData()}},{key:"componentDidUpdate",value:function(e){e.token===this.props.token&&e.match.params.id===this.props.match.params.id||(this.getArtistData(),this.setState({showOverview:!0,showSpinner:!0}))}},{key:"getArtistData",value:function(){var e=this,t="https://api.spotify.com/v1/artists/"+this.props.match.params.id,a=t+"/albums",r=t+"/top-tracks?country=PL",n=t+"/related-artists",i=X(t,this.props.token),s=X(a,this.props.token),l=X(r,this.props.token),o=X(n,this.props.token);Promise.all([i,s,l,o]).then(function(t){var a=t[0].data.name,r=t[0].data.images[t[0].data.images.length-2].url,n=t[1].data.items.filter(function(e){return"album"===e.album_group}).map(function(e){return{albumArtist:{id:e.id,name:e.name},imageURL:e.images[e.images.length-2].url}}),i=t[1].data.items.filter(function(e){return"single"===e.album_group}).map(function(e){return{albumArtist:{id:e.id,name:e.name},imageURL:e.images[e.images.length-2].url}}),s=t[2].data.tracks.slice(0,5).map(function(e){return{albumID:e.album.id,albumName:e.album.name,artists:e.artists.map(function(e){return[e.name,e.id]}),duration:K(e.duration_ms),name:e.name,previewURL:e.preview_url,trackNumber:e.track_number}}),l=t[3].data.artists.slice(0,12).map(function(e){return{albumArtist:{id:e.id,name:e.name},imageURL:e.images[e.images.length-2].url}});e.setState({artistName:a,imageURL:r,popularTracks:s,albums:n,similarArtist:l,singles:i,showSpinner:!1})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e,t;return e=this.state.showOverview?n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{style:Xe},n.a.createElement("h5",{style:Qe},"Most popular tracks")),n.a.createElement(se,{tracksArr:this.state.popularTracks}),n.a.createElement(Me,{type:"album",caption:"Albums",array:this.state.albums}),this.state.singles.length>0?n.a.createElement(Me,{type:"album",caption:"Singles",array:this.state.singles}):null):n.a.createElement(Me,{type:"artist",caption:"Similar Artists",array:this.state.similarArtist}),t=this.state.showSpinner?n.a.createElement(ce,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{style:Ye},n.a.createElement(Q.a,{xs:12,md:6},n.a.createElement("div",{style:ze},n.a.createElement("img",{src:this.state.imageURL,alt:"artist",style:Ke}))),n.a.createElement(Q.a,{xs:12,md:6},n.a.createElement("div",{style:Fe},n.a.createElement("p",null,"ARTIST"),n.a.createElement("h2",{style:Ve},this.state.artistName)))),n.a.createElement(z.a,{style:We},n.a.createElement(Se.a,{type:"checkbox",value:this.state.showOverview,onChange:function(){return null}},n.a.createElement(je.a,{variant:"secondary",value:!0,onClick:this.handleButtonOverview},"Overview"),n.a.createElement(je.a,{variant:"secondary",value:!1,onClick:this.handleButtonArtists},"Similar Artists"))),e),n.a.createElement(H,null,t)}}]),t}(r.Component),Fe={width:"100%",height:"100%",display:"flex",paddingRight:"1.5rem",paddingTop:"0.7rem",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-end","@media (max-width: 768px)":{alignItems:"center",justifyContent:"center",paddingRight:"0"}},ze={height:"100%",width:"100%",display:"flex","@media (max-width: 768px)":{alignItems:"center",justifyContent:"center"}},Ve={borderRight:"3px solid "+E.primary,paddingRight:"1rem",textAlign:"right","@media (max-width: 768px)":{paddingRight:"0",border:"none"}},Qe={color:E.secondary},Ye={paddingBottom:"12px",marginLeft:"6px",marginRight:"6px",justifyContent:"space-between"},We={alignItems:"center",justifyContent:"center",margin:"1.2rem 0"},Xe={alignItems:"center",padding:"0 0.7rem",paddingBottom:"0",marginRight:"0.7rem",marginLeft:"0.7rem",marginBottom:"0.5rem"},Ke={height:"200px",marginLeft:"30px",borderRadius:"6px",boxShadow:" 0px 2px 5px 0px rgba(0,0,0,0.75)","@media (max-width: 768px)":{marginLeft:"0"}},qe=Object(d.a)(He),Je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={show:"tracks",tracksArr:[],artistsArr:[],albumsArr:[]},a.handleButtonTracks=function(){a.setState({show:"tracks"})},a.handleButtonAlbums=function(){a.setState({show:"albums"})},a.handleButtonArtists=function(){a.setState({show:"artists"})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.token&&this.getSearchData()}},{key:"componentDidUpdate",value:function(e){e.match.params.searchQuery===this.props.match.params.searchQuery&&e.token===this.props.token||this.getSearchData()}},{key:"getSearchData",value:function(){var e=this,t="https://api.spotify.com/v1/search?q="+this.props.match.params.searchQuery+"&type=track,artist,album&limit=12";X(t,this.props.token).then(function(t){for(var a=t.data.tracks.items,r=t.data.albums.items,n=t.data.artists.items,i=a.map(function(e){return{albumID:e.album.id,albumName:e.album.name,artists:e.artists.map(function(e){return[e.name,e.id]}),duration:K(e.duration_ms),name:e.name,previewURL:e.preview_url,trackNumber:e.track_number}}),s=new Set,l=[],o=0;o<i.length;o++)s.has(i[o].previewURL)||(s.add(i[o].previewURL),l.push(i[o]));i=l;var c=n.map(function(e){return{albumArtist:{id:e.id,name:e.name},imageURL:e.images.length?e.images[e.images.length-2].url:null}}),u=r.map(function(e){return{albumArtist:{id:e.id,name:e.name},imageURL:e.images[e.images.length-2].url}});e.setState({tracksArr:i,albumsArr:u,artistsArr:c})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e;switch(this.state.show){case"tracks":e=n.a.createElement(z.a,{style:Ze},n.a.createElement(se,{tracksArr:this.state.tracksArr}));break;case"albums":e=n.a.createElement(Me,{type:"album",caption:"Albums",array:this.state.albumsArr});break;case"artists":e=n.a.createElement(Me,{type:"artist",caption:"Artists",array:this.state.artistsArr});break;default:console.log("deafult in switch in Search.js <<NOT INTENDED>>")}return n.a.createElement(H,null,n.a.createElement("p",{style:et},"Searching results for ",n.a.createElement("i",null,decodeURIComponent(this.props.match.params.searchQuery))),n.a.createElement(z.a,{style:$e},n.a.createElement(Se.a,{type:"checkbox",value:this.state.show,onChange:function(){return null}},n.a.createElement(je.a,{variant:"secondary",value:"tracks",onClick:this.handleButtonTracks},"Tracks"),n.a.createElement(je.a,{variant:"secondary",value:"albums",onClick:this.handleButtonAlbums},"Albums"),n.a.createElement(je.a,{variant:"secondary",value:"artists",onClick:this.handleButtonArtists},"Artists"))),e)}}]),t}(r.Component),$e={justifyContent:"center",marginBottom:"2rem"},Ze={marginLeft:"16px",marginRight:"16px"},et={paddingLeft:"5px",borderLeft:"2px solid "+E.secondary,marginTop:"-15px"},tt=Je,at=a(105),rt={display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"column"},nt={width:"150px",height:"150px",marginTop:"0.8rem",boxShadow:"0px 1px 4px 0px rgba(0,0,0,0.61)","@media (max-width: 576px)":{width:"120px",height:"120px"}},it={textAlign:"center",color:E.primaryLink,marginTop:"0.3rem"},st={color:E.primaryLink,fontSize:"0.9rem",textAlign:"center"},lt=Object(d.a)(function(e){var t,a,r=null;return e.artist?(t=n.a.createElement(x.a,{to:"/album/"+e.albumPlaylist.id},n.a.createElement("img",{src:e.imageURL,alt:"album/playlist cover",style:nt})),a=n.a.createElement(x.a,{style:it,to:"/album/"+e.albumPlaylist.id},e.albumPlaylist.title),r=n.a.createElement(x.a,{style:st,to:"/artist/"+e.artist.id},e.artist.name)):(t=n.a.createElement(x.a,{to:"/playlist/"+e.albumPlaylist.id},n.a.createElement("img",{src:e.imageURL,alt:"album/playlist cover",style:nt})),a=n.a.createElement(x.a,{style:it,to:"/playlist/"+e.albumPlaylist.id},e.albumPlaylist.title)),n.a.createElement(Q.a,{xs:6,md:3,style:rt},t,a,r)}),ot=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={currentIndex:null,browseParts:[]},a.browseLeft=function(){if(null===a.state.currentIndex)return null;0===a.state.currentIndex?a.setState({currentIndex:2}):a.setState(function(e){return{currentIndex:e.currentIndex-1}})},a.browseRight=function(){if(null===a.state.currentIndex)return null;2===a.state.currentIndex?a.setState({currentIndex:0}):a.setState(function(e){return{currentIndex:e.currentIndex+1}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.albumPlaylistArr.length>0&&this.deconstructToBrowseParts()}},{key:"componentDidUpdate",value:function(e){this.props.albumPlaylistArr.length>0&&e.albumPlaylistArr!==this.props.albumPlaylistArr&&this.deconstructToBrowseParts()}},{key:"deconstructToBrowseParts",value:function(){for(var e=[],t=this.props.albumPlaylistArr.slice(),a=0;a<=2;a++)e.push(t.splice(0,4));this.setState({browseParts:e,currentIndex:0})}},{key:"render",value:function(){var e=n.a.createElement(n.a.Fragment,null,n.a.createElement(Q.a,null,n.a.createElement("h5",{style:pt},this.props.caption)),n.a.createElement(Q.a,{style:mt},n.a.createElement("i",{className:"fas fa-arrow-alt-circle-left",style:ht,key:"left",onClick:this.browseLeft}),n.a.createElement("i",{className:"fas fa-arrow-alt-circle-right",style:ht,key:"right",onClick:this.browseRight})),n.a.createElement(Q.a,null));return"Example Albums With Preview Tracks"===this.props.caption&&(e=n.a.createElement(Q.a,null,n.a.createElement("h5",{style:pt},this.props.caption))),n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{style:ct},e),n.a.createElement(z.a,{style:ut},this.state.browseParts[this.state.currentIndex]?this.state.browseParts[this.state.currentIndex].map(function(e){return n.a.createElement(lt,Object.assign({},e,{key:e.imageURL}))}):null))}}]),t}(r.Component),ct={alignItems:"center",padding:"0 0.7rem",borderBottom:"1px solid "+E.secondary,paddingBottom:"0px",margin:"0 0.7rem"},ut={marginBottom:"50px",margin:"1.5rem 0.7rem",padding:"0 0.7rem"},mt={display:"flex",justifyContent:"center"},pt={marginRight:"auto",paddingLeft:"1rem",color:E.secondary},ht={fontSize:"1.3rem",margin:"0 0.5rem",color:E.secondary,":hover":{transform:"scale(1.1)",cursor:"pointer"}},dt=Object(d.a)(ot),gt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={newReleasesArr:[],playlistsArr:[],withPreviewArr:[],showSpinner:!0},a.getBrowseData=function(){var e=X("https://api.spotify.com/v1/browse/new-releases",a.props.token),t=X("https://api.spotify.com/v1/browse/featured-playlists",a.props.token),r=X("https://api.spotify.com/v1/albums/?ids=0fLhefnjlIV3pGNF9Wo8CD,5ceB3rxgXqIRpsOvVzTG28,5rKFS59ntz44KWVXPIlc3N,7f9KDGqY7X2VLBM5aA66KM",a.props.token);Promise.all([e,t,r]).then(function(e){var t=Object(at.a)(e,3),r=t[0],n=t[1],i=t[2],s=r.data.albums.items,l=n.data.playlists.items,o=i.data.albums;o=o.map(function(e){return{albumPlaylist:{title:e.name,id:e.id},artist:{name:e.artists[0].name,id:e.artists[0].id},imageURL:e.images[1].url}}),s=s.map(function(e){return{albumPlaylist:{title:e.name,id:e.id},artist:{name:e.artists[0].name,id:e.artists[0].id},imageURL:e.images[1].url}}),l=l.map(function(e){return{albumPlaylist:{title:e.name,id:e.id},imageURL:e.images[0].url}}),a.setState({newReleasesArr:s.slice(0,12),playlistsArr:l.slice(0,12),withPreviewArr:o,showSpinner:!1})}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.token&&this.getBrowseData()}},{key:"componentDidUpdate",value:function(e){e.token!==this.props.token&&this.getBrowseData()}},{key:"render",value:function(){var e;return e=this.state.showSpinner?n.a.createElement(ce,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(dt,{caption:"New Releases",albumPlaylistArr:this.state.newReleasesArr,type:"album"}),n.a.createElement(dt,{caption:"Featured Playlists",albumPlaylistArr:this.state.playlistsArr,type:"playlist"}),n.a.createElement(dt,{caption:"Example Albums With Preview Tracks",albumPlaylistArr:this.state.withPreviewArr})),n.a.createElement(H,null,e)}}]),t}(r.Component),ft=a(54),yt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={spotifyToken:null,inputVal:"",searchQuery:""},a.onSubmitHandler=function(e){e.preventDefault(),a.setState(function(e){return{searchQuery:encodeURIComponent(e.inputVal),inputVal:""}})},a.onChangeHandler=function(e){a.setState({inputVal:e.target.value})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;W()({method:"get",url:"https://safe-dusk-91008.herokuapp.com/spotify"}).then(function(t){var a=t.data.access_token;e.setState({spotifyToken:a})}).catch(function(e){console.log(e)})}},{key:"componentDidUpdate",value:function(e,t){t.searchQuery!==this.state.searchQuery&&this.props.history.push("/search/"+this.state.searchQuery)}},{key:"render",value:function(){var e,t=this;return e="/"===this.props.location.pathname?null:n.a.createElement(x.a,{to:"/",style:bt},n.a.createElement("i",{className:"fas fa-home"})),n.a.createElement(ft.a,{style:{height:"100%"}},n.a.createElement(h.a,{bg:"primary",style:{position:"absolute",width:"100%",paddingRight:"3rem"},className:"justify-content-center"},e,n.a.createElement(b,{onSubmitHandler:this.onSubmitHandler,onChangeHandler:this.onChangeHandler,inputVal:this.state.inputVal})),n.a.createElement(D.a,null,n.a.createElement(I.a,{path:"/album/:id",render:function(e){return n.a.createElement(be,Object.assign({},e,{token:t.state.spotifyToken}))}}),n.a.createElement(I.a,{path:"/playlist/:id",render:function(e){return n.a.createElement(Oe,Object.assign({},e,{token:t.state.spotifyToken}))}}),n.a.createElement(I.a,{path:"/artist/:id",render:function(e){return n.a.createElement(qe,Object.assign({},e,{token:t.state.spotifyToken}))}}),n.a.createElement(I.a,{path:"/search/:searchQuery",render:function(e){return n.a.createElement(tt,Object.assign({},e,{token:t.state.spotifyToken}))}}),n.a.createElement(I.a,{path:"/",render:function(e){return n.a.createElement(gt,Object.assign({},e,{token:t.state.spotifyToken}))}})),n.a.createElement(_,null))}}]),t}(r.Component),bt={position:"absolute",fontSize:"1.5rem",left:"9px",color:E.secondary},Et=Object(T.a)(yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kt=a(174),vt=a(40),xt={tracksR:[],upcomingTracksR:[],current:null,paused:!1,currentTNumber:null};var wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0,a=Object(q.a)({},e);switch(t.type){case v.SET_ARRAY:return a.tracksR=t.payload,a;case v.SET_UPCOMING_ARRAY:return a.upcomingTracksR=t.payload,a;case v.UPCOMING_TO_CURRENT:return a.tracksR=e.upcomingTracksR,a.upcomingTracksR=[],a;case v.CHANGE_CURRENT:return a.current=t.payload.url,a.currentTNumber=t.payload.trackNumber,a;case v.TOGGLE_PAUSED:return a.paused=!e.paused,a;case v.SET_PAUSED:return a.paused=t.payload,a;default:return e}},Rt=Object(vt.b)(wt,void 0,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(n.a.createElement(k.a,{store:Rt},n.a.createElement(kt.a,null,n.a.createElement(Et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[107,1,2]]]);
//# sourceMappingURL=main.0ac62d38.chunk.js.map